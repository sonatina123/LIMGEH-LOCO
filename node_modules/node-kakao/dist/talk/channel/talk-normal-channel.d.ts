import { AsyncCommandResult, CommandResult, DefaultRes } from '../../request';
import { Channel, ChannelDataStore, ChannelMeta, NormalChannelInfo, SetChannelMeta, UpdatableChannelDataStore } from '../../channel';
import { ChannelUser, NormalChannelUserInfo } from '../../user';
import { Chat, Chatlog, ChatLogged, ChatType, UpdatableChatListStore } from '../../chat';
import { Managed } from '../managed';
import { EventContext, TypedEmitter } from '../../event';
import { Long } from 'bson';
import { TalkSession } from '../client';
import { MediaKeyComponent, MediaMultiPost, MediaPost, MediaUploadForm } from '../../media';
import { ChannelEvents } from '../event';
import { TalkChannel } from '.';
import { ChannelMetaType, GroupMetaContent, LiveTalkCountMetaContent, LiveTalkInfoMetaContent, ProfileMetaContent, TvLiveMetaContent, TvMetaContent } from '../../channel/meta';
import { ChatOnRoomRes } from '../../packet/chat';
import { MediaUploadTemplate } from '../media/upload';
import { FixedReadStream } from '../../stream';
declare type TalkChannelEvents = ChannelEvents<TalkNormalChannel, NormalChannelUserInfo>;
export declare class TalkNormalChannel extends TypedEmitter<TalkChannelEvents> implements TalkChannel, ChannelDataStore<NormalChannelInfo, NormalChannelUserInfo>, Managed<TalkChannelEvents> {
    private _channel;
    private _chatListStore;
    private _channelSession;
    private _normalChannelSession;
    private _normalHandler;
    private _handler;
    constructor(_channel: Channel, session: TalkSession, store: UpdatableChannelDataStore<NormalChannelInfo, NormalChannelUserInfo>, _chatListStore: UpdatableChatListStore);
    get clientUser(): Readonly<ChannelUser>;
    get channelId(): Long;
    get chatListStore(): UpdatableChatListStore;
    get store(): UpdatableChannelDataStore<NormalChannelInfo, NormalChannelUserInfo>;
    get info(): Readonly<NormalChannelInfo>;
    get userCount(): number;
    getName(): string;
    getDisplayName(): string;
    getUserInfo(user: ChannelUser): Readonly<NormalChannelUserInfo> | undefined;
    getAllUserInfo(): IterableIterator<NormalChannelUserInfo>;
    getReadCount(chat: ChatLogged): number;
    getReaders(chat: ChatLogged): Readonly<NormalChannelUserInfo>[];
    sendChat(chat: string | Chat, noSeen?: boolean): AsyncCommandResult<Chatlog>;
    forwardChat(chat: Chat, noSeen?: boolean): AsyncCommandResult<Chatlog>;
    deleteChat(chat: ChatLogged): AsyncCommandResult;
    markRead(chat: ChatLogged): AsyncCommandResult;
    setMeta(type: ChannelMetaType, meta: ChannelMeta | string): AsyncCommandResult<SetChannelMeta>;
    setTitleMeta(title: string): AsyncCommandResult<SetChannelMeta>;
    setNoticeMeta(notice: string): AsyncCommandResult<SetChannelMeta>;
    setProfileMeta(content: ProfileMetaContent): AsyncCommandResult<SetChannelMeta>;
    setTvMeta(content: TvMetaContent): AsyncCommandResult<SetChannelMeta>;
    setTvLiveMeta(content: TvLiveMetaContent): AsyncCommandResult<SetChannelMeta>;
    setLiveTalkInfoMeta(content: LiveTalkInfoMetaContent): AsyncCommandResult<SetChannelMeta>;
    setLiveTalkCountMeta(content: LiveTalkCountMetaContent): AsyncCommandResult<SetChannelMeta>;
    setGroupMeta(content: GroupMetaContent): AsyncCommandResult<SetChannelMeta>;
    setPushAlert(flag: boolean): AsyncCommandResult;
    inviteUsers(users: ChannelUser[]): AsyncCommandResult;
    syncChatList(endLogId: Long, startLogId?: Long): AsyncIterableIterator<CommandResult<Chatlog[]>>;
    getChatListFrom(startLogId?: Long): AsyncCommandResult<Chatlog[]>;
    chatON(): AsyncCommandResult<ChatOnRoomRes>;
    getLatestChannelInfo(): AsyncCommandResult<NormalChannelInfo>;
    getLatestUserInfo(...users: ChannelUser[]): AsyncCommandResult<NormalChannelUserInfo[]>;
    getAllLatestUserInfo(): AsyncCommandResult<NormalChannelUserInfo[]>;
    downloadMedia(media: MediaKeyComponent, type: ChatType, offset?: number): AsyncCommandResult<FixedReadStream>;
    downloadMediaThumb(media: MediaKeyComponent, type: ChatType, offset?: number): AsyncCommandResult<FixedReadStream>;
    uploadMedia(type: ChatType, form: MediaUploadForm): AsyncCommandResult<MediaPost>;
    uploadMultiMedia(type: ChatType, forms: MediaUploadForm[]): AsyncCommandResult<MediaMultiPost>;
    sendMedia(type: ChatType, template: MediaUploadTemplate): AsyncCommandResult<Chatlog>;
    sendMultiMedia(type: ChatType, templates: MediaUploadTemplate[]): AsyncCommandResult<Chatlog>;
    updateAll(): AsyncCommandResult;
    pushReceived(method: string, data: DefaultRes, parentCtx: EventContext<TalkChannelEvents>): Promise<void>;
}
export {};
